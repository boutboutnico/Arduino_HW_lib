///
/// This example code is in the public domain.
/// \file	gp2d12_demo.cpp
/// \brief	Demonstrates use of the GP2D12 Library.
/// \date	07/04/2014
/// \author	nboutin
///

/// ------------------------------------------------------------------------------------------------
/// INCLUDES
/// ------------------------------------------------------------------------------------------------
#include "Arduino.h"

#include "streaming.h"
#include "gp2d12.h"

/// ------------------------------------------------------------------------------------------------
/// NAMESPACE
/// ------------------------------------------------------------------------------------------------
using namespace arduino_hw_lib;

/// ------------------------------------------------------------------------------------------------
/// GLOBALE VARIABLES
/// ------------------------------------------------------------------------------------------------
GP2D12 gp2d12(A0);

/// ------------------------------------------------------------------------------------------------
/// SETUP
/// ------------------------------------------------------------------------------------------------

void setup(void)
{
	Serial.begin(9600);
}

/// ------------------------------------------------------------------------------------------------
/// LOOP
/// ------------------------------------------------------------------------------------------------

void loop(void)
{
	static const uint16_t ui16_delay = 300;

	Serial << "--------------------" << endl;
	Serial << "Tension: \t" << gp2d12.getTension() << endl;
	Serial << "Distance: \t" << gp2d12.getDistance_cm() << endl;
	Serial << "Average: \t" << gp2d12.getDistanceAverage_cm() << endl;

	delay(ui16_delay);
}

/// ------------------------------------------------------------------------------------------------
/// END OF FILE
/// ------------------------------------------------------------------------------------------------
